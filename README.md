# Terraform-–º–æ–¥—É–ª—å: –ë–∞–∑–æ–≤–∞—è –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞ –≤ Yandex Cloud

## üìå –û–ø–∏—Å–∞–Ω–∏–µ

–≠—Ç–æ—Ç Terraform-–º–æ–¥—É–ª—å –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∏—Ä—É–µ—Ç —Ä–∞–∑–≤–µ—Ä—Ç—ã–≤–∞–Ω–∏–µ –±–∞–∑–æ–≤–æ–π –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä—ã –≤ Yandex Cloud.  
–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –≤—ã –ø–æ–ª—É—á–∏—Ç–µ –ø–æ–ª–Ω–æ—Å—Ç—å—é –≥–æ—Ç–æ–≤—É—é –∫ —Ä–∞–±–æ—Ç–µ —Å—Ä–µ–¥—É, –≤–∫–ª—é—á–∞—é—â—É—é:

- –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã —Å –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∏—Å–∫–∞–º–∏,
- –æ–±—ä–µ–∫—Ç–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ (Object Storage),
- —Å–µ—Ä–≤–µ—Äless-–±–∞–∑—É –¥–∞–Ω–Ω—ã—Ö YDB,
- —É–ø—Ä–∞–≤–ª—è–µ–º—É—é PostgreSQL (PaaS),
- –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é —Å–µ—Ç—å —Å –ø–æ–¥—Å–µ—Ç—è–º–∏,
- –≤—Å–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ —Å–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã –∏ –ø—Ä–∞–≤–∞ –¥–æ—Å—Ç—É–ø–∞.

---

## üìö –°–æ–¥–µ—Ä–∂–∞–Ω–∏–µ

- [üöÄ –ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –º–æ–¥—É–ª—å](#-—á—Ç–æ-—Å–æ–∑–¥–∞—ë—Ç-–º–æ–¥—É–ª—å)
- [üß± –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã](#-–ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã)
- [üß© –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥—É–ª–∏](#-–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ-–º–æ–¥—É–ª–∏)
- [üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã](#Ô∏è-–æ—Å–Ω–æ–≤–Ω—ã–µ-—Ä–µ—Å—É—Ä—Å—ã)
- [üîß –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã](#-–≤—Ö–æ–¥–Ω—ã–µ-–ø–∞—Ä–∞–º–µ—Ç—Ä—ã)
  - [üìò –ü—Ä–∏–º–µ—Ä `instance_resources`](#üìò-–ø—Ä–∏–º–µ—Ä-instanceresources)
  - [üìò –ü—Ä–∏–º–µ—Ä `postgres_config`](#üìò-–ø—Ä–∏–º–µ—Ä-postgres_config)

---

## üöÄ –ß—Ç–æ —Å–æ–∑–¥–∞—ë—Ç –º–æ–¥—É–ª—å

### Object Storage
- –£–Ω–∏–∫–∞–ª—å–Ω—ã–π –±–∞–∫–µ—Ç –≤ Yandex Object Storage
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –∏ –∫–ª—é—á–µ–π –¥–æ—Å—Ç—É–ø–∞
- –ù–∞—Å—Ç—Ä–æ–π–∫–∞ IAM-—Ä–æ–ª–µ–π –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –±–∞–∫–µ—Ç–æ–º

### –í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã (VM)
- –ü–æ –æ–¥–Ω–æ–π VM –≤ –∑–æ–Ω–∞—Ö `ru-central1-a`, `ru-central1-b`, `ru-central1-d`
- –ö–∞–∂–¥–∞—è VM —Å –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–º –∏ –¥–≤—É–º—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–º–∏ –¥–∏—Å–∫–∞–º–∏
- –°–Ω–∏–º–∫–∏ –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö –¥–∏—Å–∫–æ–≤ –¥–ª—è —Ä–µ–∑–µ—Ä–≤–Ω–æ–≥–æ –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏—è

### YDB Serverless
- –†–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –±–µ—Å—Å–µ—Ä–≤–µ—Ä–Ω–æ–π –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö YDB

### PostgreSQL PaaS
- –£–ø—Ä–∞–≤–ª—è–µ–º–∞—è PostgreSQL-–±–∞–∑–∞ (—á–µ—Ä–µ–∑ –≤–Ω–µ—à–Ω–∏–π –º–æ–¥—É–ª—å)

### –°–µ—Ç—å
- –û–¥–Ω–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Å–µ—Ç—å (VPC)
- –û—Ç–¥–µ–ª—å–Ω—ã–µ –ø—É–±–ª–∏—á–Ω—ã–µ –ø–æ–¥—Å–µ—Ç–∏ –¥–ª—è –∫–∞–∂–¥–æ–π –∑–æ–Ω—ã
- –¢–∞–±–ª–∏—Ü–∞ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏ –¥–ª—è –≤—ã—Ö–æ–¥–∞ –≤ –∏–Ω—Ç–µ—Ä–Ω–µ—Ç

### –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ
- –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —É–Ω–∏–∫–∞–ª—å–Ω—ã—Ö –∏–º—ë–Ω —Ä–µ—Å—É—Ä—Å–æ–≤
- –ó–∞–¥–µ—Ä–∂–∫–∏ –∏ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏—è
- –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ IAM-—Ä–æ–ª–µ–π –¥–ª—è —Å–µ—Ä–≤–∏—Å–Ω—ã—Ö –∞–∫–∫–∞—É–Ω—Ç–æ–≤

---

## üß± –ü—Ä–æ–≤–∞–π–¥–µ—Ä—ã

### –ù–µ–æ–±—Ö–æ–¥–∏–º—ã–µ

| Name   | Version   |
|--------|-----------|
| aws    | ~> 5.70.0 |
| yandex | >= 0.35.0 |

### –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ

| Name      | Version |
|-----------|---------|
| terraform | n/a     |
| yandex    | 0.141.0 |
| random    | 3.7.2   |
| time      | 0.13.1  |

---

## üß© –ò—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –º–æ–¥—É–ª–∏

| Name  | Source                                                               | Version                                    |
|-------|----------------------------------------------------------------------|--------------------------------------------|
| net   | github.com/terraform-yc-modules/terraform-yc-vpc.git                | 19a9893f25b2536cea3c9c15c180c905ea37bf9c   |
| s3    | github.com/terraform-yc-modules/terraform-yc-s3.git                 | 9fc2f832875aefb6051a2aa47b5ecc9a7ea8fde5   |
| pg    | –≤–Ω–µ—à–Ω–∏–π –º–æ–¥—É–ª—å PostgreSQL (—É–∫–∞–∂–∏—Ç–µ —Å—Å—ã–ª–∫—É –∏–ª–∏ –ø—É—Ç—å –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏) | ‚Äî                                          |

---

## üõ†Ô∏è –û—Å–Ω–æ–≤–Ω—ã–µ —Ä–µ—Å—É—Ä—Å—ã

- **Object Storage** ‚Äî –±–∞–∫–µ—Ç, —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∞–∫–∫–∞—É–Ω—Ç, IAM-–¥–æ—Å—Ç—É–ø
- **–í–∏—Ä—Ç—É–∞–ª—å–Ω—ã–µ –º–∞—à–∏–Ω—ã** ‚Äî —Ç—Ä–∏ VM, –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã–µ –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –¥–∏—Å–∫–∏
- **–°–Ω–∏–º–∫–∏** ‚Äî —Ä–µ–∑–µ—Ä–≤–Ω—ã–µ –∫–æ–ø–∏–∏ –∑–∞–≥—Ä—É–∑–æ—á–Ω—ã—Ö –¥–∏—Å–∫–æ–≤
- **YDB Serverless** ‚Äî –±–µ—Å—Å–µ—Ä–≤–µ—Ä–Ω–∞—è –ë–î
- **PostgreSQL** ‚Äî PaaS-–±–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö
- **VPC –∏ –ø–æ–¥—Å–µ—Ç–∏** ‚Äî —Å–µ—Ç—å –∏ –ø–æ–¥—Å–µ—Ç–∏ –ø–æ –∑–æ–Ω–∞–º
- **–°–µ—Ä–≤–∏—Å–Ω—ã–µ –∞–∫–∫–∞—É–Ω—Ç—ã** ‚Äî —Å –Ω—É–∂–Ω—ã–º–∏ –ø—Ä–∞–≤–∞–º–∏ –¥–æ—Å—Ç—É–ø–∞
- **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —Ä–µ—Å—É—Ä—Å—ã** ‚Äî random, –∑–∞–¥–µ—Ä–∂–∫–∏, –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

---

## üîß –í—Ö–æ–¥–Ω—ã–µ –ø–∞—Ä–∞–º–µ—Ç—Ä—ã

| Name                  | Description                                       | Type               | Default                       | Required |
|-----------------------|---------------------------------------------------|--------------------|-------------------------------|:--------:|
| `boot_disk_name`      | –ò–º—è –∑–∞–≥—Ä—É–∑–æ—á–Ω–æ–≥–æ –¥–∏—Å–∫–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)             | string             | null                          | ‚ùå       |
| `bucket_name`         | –ò–º—è –±–∞–∫–µ—Ç–∞ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)                         | string             | null                          | ‚ùå       |
| `bucket_sa_name`      | –ò–º—è —Å–µ—Ä–≤–∏—Å–Ω–æ–≥–æ –∞–∫–∫–∞—É–Ω—Ç–∞ –¥–ª—è –±–∞–∫–µ—Ç–∞               | string             | null                          | ‚ùå       |
| `folder_id`           | ID –ø–∞–ø–∫–∏ –≤ Yandex Cloud                          | string             | ‚Äî                             | ‚úÖ       |
| `image_id`            | ID –æ–±—Ä–∞–∑–∞ –¥–∏—Å–∫–∞                                  | string             | `"fd833v6c5tb0udvk4jo6"`       | ‚ùå       |
| `instance_resources`  | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω—ã—Ö –º–∞—à–∏–Ω                   | object             | ‚Äî                             | ‚úÖ       |
| `linux_vm_name`       | –ò–º—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π –º–∞—à–∏–Ω—ã                           | string             | null                          | ‚ùå       |
| `name_prefix`         | –ü—Ä–µ—Ñ–∏–∫—Å –¥–ª—è –∏–º—ë–Ω —Ä–µ—Å—É—Ä—Å–æ–≤                        | string             | `"project"`                   | ‚ùå       |
| `secondary_disks`     | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –¥–∏—Å–∫–æ–≤               | object             | —Å–º. –Ω–∏–∂–µ                      | ‚ùå       |
| `subnets`             | –ö–∞—Ä—Ç–∞ –∑–æ–Ω –∏ –∏—Ö CIDR                              | map(list(string))  | —Å–º. –Ω–∏–∂–µ                      | ‚ùå       |
| `vpc_network_name`    | –ò–º—è VPC-—Å–µ—Ç–∏                                     | string             | null                          | ‚ùå       |
| `ydb_serverless_name` | –ò–º—è YDB                                           | string             | null                          | ‚ùå       |
| `zones`               | –°–ø–∏—Å–æ–∫ –∑–æ–Ω —Ä–∞–∑–º–µ—â–µ–Ω–∏—è                            | set(string)        | —Å–º. –Ω–∏–∂–µ                      | ‚ùå       |
| `postgres_config`     | –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è PostgreSQL                          | object             | n_
